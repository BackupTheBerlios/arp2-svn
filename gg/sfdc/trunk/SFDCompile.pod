### Help message and manual page ###############################################

__END__

=head1 NAME

sfdc - Compile SFD files into someting useful

=head1 SYNOPSIS

sfdc [options] file1.sfd [file2.sfd ...]

  Options:
    --gateprefix=PREFIX     Prefix for gatestub functions
    --help -h               Show full help message and exit
    --libarg=LOCATION       Where to pass the libbase
    --libprefix=PREFIX      Prefix for library functions
    --man                   Show full manual page and exit
    --mode=MODE             What to do
    --output=FILE -o FILE   Where to store the output
    --quiet -q              Be quiet
    --target=TARGET         Specifies the machine target
    --version -v            Show version and exit

=head1 OPTIONS

=over 8


=item B<--gateprefix>

Sets a function name prefix for the gate stub functions when
generating gatestubs.


=item B<--help>

Show the full help message and exit.

    
=item B<--libarg>

Specifies where to place the library base argument when generating
gatestubs. Possible values are B<none>, B<first> and B<last>. The
default is B<none>.


=item B<--libprefix>

Sets a function name prefix for the local library functions when
generating gatestubs.


=item B<--man>

Show the complete manual page and exit.


=item B<--mode>

Instructs F<sfdc> what to do. F<sfdc> can handle the
following arguments:

=over 8

=item B<clib>

Generate C prototypes to be placed in F<Include/clib/>.


=item B<dump>

Dumps all information gathered from the SFD file. This is the default.


=item B<fd>

Generate an old-style FD file.

    
=item B<gatestubs>

Generate library gate stubs. Useful for library and device developers.


=item B<macros>

Generate a header file containing F<gcc> specific preprocessor macros,
similar to F<fd2inline>'s B<--new> switch. For AROS targets, it
generates a file suitable to be placed in the F<Include/defines/>
directory.

    
=item B<proto>

Generate header file to be placed in F<Include/proto/> that includes
the C prototypes as well as compiler-specific inlines or pragma files.


=item B<stubs>

Generate C library stubs suitable to be compiled and archived into
F<libamiga.a>, F<libamigastubs.a> or
F<libI<E<lt>moduleE<gt>>.a>. Using the B<%f> escape sequence in the
B<--output> switch or a tool like F<splitasm.awk> strongly is
recommended.

=back


=item B<--output> 

Specifies where the result will be stored. The following escape
sequencies are allowed in the file name. If the sequence B<%f> is
present in the name, a new file will be created for each function
processed.

=over 8

=item B<%b>

The library base variable name (C<DOSBase>, for example).

=item B<%f>

The current funcion name (C<Open>, for example).

=item B<%l>

The name of the library or device (F<dos.library>, for example).

=item B<%n>

The base name of the library or device (C<dos>, for example).

=back

If omitted, the result will be sent to the standard output instead of
a file.

=item B<--quiet>

Be quiet.


=item B<--target>

Specifies the target when generating macros etc. The target names
follow the GNU autoconf standard. Some possible values are listed
below. The default is B<m68k-unknown-amigaos>.

=over 8

=item B<i?86-pc-aros>, B<i?86-linux-aros>, B<ppc-aros> ...

AROS. Anything goes, as long as it ends in C<-aros>.


=item B<i?86be-pc-amithlon>, B<i?86be-amithlon>

Amithlon/big endian IA32.


=item B<m68k-unknown-amigaos>, B<m68k-amigaos>

Traditional AmigaOS/m68k.


=item B<powerpc-unknown-morphos>, B<ppc-morphos>

MorphOS/PowerPC.


=back



=item B<--version>

Prints the version and exits.


=back

=head1 DESCRIPTION

F<sfdc> is an open source replacement for Amiga, Inc.'s F<sfd> tool,
distributed with B<NDK 3.9>. It is also an replacement for
F<fd2inline> from GeekGadgets and the MorphOS team, later improved to
death by Martin Blom. It's now a complete mess and needs a
replacement. SFD files and F<sfdc> might to be a good start.


=head1 RETURN VALUE

Returns 0 on success and 10 on errors.


=head1 AUTHOR

Martin Blom <martin@blom.org>

=head1 HISTORY

=item B<1.0 (2003-07-16)>

Initial release.

